-- MovieReview 샘플 영화 데이터 삽입
-- MySQL에서 실행하세요

USE movie_review_db;

-- 기존 데이터 확인
SELECT COUNT(*) as current_movie_count FROM movies;

-- 샘플 영화 데이터 삽입
INSERT IGNORE INTO movies (title, title_en, description, director, actors, genres, release_date, runtime, rating, review_count) VALUES

-- 한국 영화
('기생충', 'Parasite', '전원 백수로 살 길 막막하지만 사이는 좋은 기택 가족. 장남 기우는 명문대생 친구의 소개로 IT재벌 박사장 집에 고액 과외를 나가게 된다. 하지만 이는 모든 것의 시작일 뿐이었다.', '봉준호', '송강호, 이선균, 조여정, 최우식, 박소담', '["드라마", "스릴러", "코미디"]', '2019-05-30', 132, 4.8, 1250),

('미나리', 'Minari', '1980년대 아메리칸 드림을 찾아 아칸소주로 이주한 한국계 미국인 가족의 이야기.', '정이삭', '스티븐 연, 한예리, 윤여정, 앨런 김', '["드라마", "가족"]', '2020-12-11', 115, 4.6, 890),

('올드보이', 'Oldboy', '어느 날 갑자기 납치되어 15년간 감금된 남자가 복수를 위해 벌이는 이야기.', '박찬욱', '최민식, 유지태, 강혜정', '["스릴러", "액션", "드라마"]', '2003-11-21', 120, 4.7, 2100),

-- 할리우드 블록버스터
('아바타', 'Avatar', '2154년, 지구의 에너지 고갈 문제를 해결하기 위해 판도라 행성으로 떠난 인류. 이곳에서 제이크가 아바타 프로젝트에 참여하며 벌어지는 모험.', '제임스 카메론', '샘 워딩턴, 조 샐다나, 시고니 위버', '["SF", "액션", "모험"]', '2009-12-18', 162, 4.5, 3200),

('어벤져스: 엔드게임', 'Avengers: Endgame', '인피니티 워의 충격적인 사건 이후, 우주는 폐허가 되었다. 마지막 희망을 되찾기 위해 어벤져스는 다시 모여야 한다.', '안소니 루소, 조 루소', '로버트 다우니 주니어, 크리스 에반스, 마크 러팔로, 크리스 헴스워스', '["액션", "모험", "SF"]', '2019-04-26', 181, 4.9, 4500),

('타이타닉', 'Titanic', '1912년 4월 10일, 영국 사우샘프턴에서 뉴욕으로 향하는 타이타닉 호의 처녀항해에서 일어나는 운명적인 로맨스.', '제임스 카메론', '레오나르도 디카프리오, 케이트 윈슬렛', '["로맨스", "드라마"]', '1997-12-19', 194, 4.7, 2800),

('인셉션', 'Inception', '꿈 속에서 꿈을 훔치는 특수 기술을 가진 돔 코브와 그의 팀이 벌이는 마지막 임무.', '크리스토퍼 놀란', '레오나르도 디카프리오, 마리옹 코티야르, 톰 하디', '["SF", "액션", "스릴러"]', '2010-07-16', 148, 4.8, 3100),

-- 애니메이션
('토이 스토리 4', 'Toy Story 4', '새로운 장난감 포키가 자신을 장난감이라고 생각하지 않으면서 벌어지는 이야기. 우디와 친구들의 새로운 모험이 시작된다.', '조시 쿨리', '톰 행크스, 팀 앨런, 애니 포츠', '["애니메이션", "코미디", "가족"]', '2019-06-21', 100, 4.6, 1800),

('겨울왕국 2', 'Frozen II', '엘사의 마법의 비밀을 찾아 떠나는 자매의 모험. 아렌델 왕국을 구하기 위한 엘사와 안나의 여행.', '크리스 벅, 제니퍼 리', '이디나 멘젤, 크리스틴 벨, 조나단 그로프', '["애니메이션", "가족", "모험"]', '2019-11-22', 103, 4.4, 2200),

-- 액션 영화
('존 윅', 'John Wick', '은퇴한 킬러 존 윅이 아내의 유품인 강아지를 잃고 복수에 나서는 이야기.', '채드 스타헬스키', '키아누 리브스, 마이클 나이크비스트', '["액션", "스릴러"]', '2014-10-24', 101, 4.3, 1600),

-- 호러 영화
('기묘한 가족', 'The Wailing', '정체불명의 이방인이 나타난 후 벌어지는 기묘한 사건들을 그린 미스터리 호러.', '나홍진', '곽도원, 황정민, 국무열', '["호러", "미스터리", "스릴러"]', '2016-05-12', 156, 4.5, 980),

-- 코미디 영화
('극한직업', 'Extreme Job', '마약 조직 수사를 위해 치킨집을 운영하게 된 형사들의 좌충우돌 코미디.', '이병헌', '류승룡, 이하늬, 진선규', '["코미디", "액션"]', '2019-01-23', 111, 4.2, 2500);

-- 삽입된 데이터 확인
SELECT 
    id,
    title as '영화제목',
    title_en as '영문제목',
    director as '감독',
    JSON_EXTRACT(genres, '$') as '장르',
    release_date as '개봉일',
    rating as '평점',
    review_count as '리뷰수'
FROM movies 
ORDER BY rating DESC;

-- 장르별 영화 수 확인
SELECT 
    JSON_UNQUOTE(JSON_EXTRACT(genres, '$[0]')) as '주요장르',
    COUNT(*) as '영화수'
FROM movies 
GROUP BY JSON_UNQUOTE(JSON_EXTRACT(genres, '$[0]'))
ORDER BY COUNT(*) DESC;

-- 전체 영화 수 확인
SELECT COUNT(*) as total_movies FROM movies;

SELECT '✅ 샘플 영화 데이터 삽입이 완료되었습니다!' as status;
